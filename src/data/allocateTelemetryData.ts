import { FORWARD_GEAR_COUNT, GEAR_COUNT, REVERSE_GEAR_COUNT, SHIFTER_TOGGLE_COUNT, SUBSTANCE_COUNT, TRAILER_COUNT, WHEEL_COUNT } from './constants';
import type { SCSSDKTelemetry, SCSSDKTrailerTelemetry } from '../types';

export const allocateTelemetryData = function(): SCSSDKTelemetry {
  return {
    // ------ 1st zone ------
    sdkActive:             false,
    paused:                false,
    time:                  0n,
    simulatedTime:         0n,
    renderTime:            0n,
    multiplayerTimeOffset: 0n,

    // ------ 2nd zone ------
    telemetryPluginRevision:   0,
    versionMajor:              0,
    versionMinor:              0,
    game:                      0,
    telemetryVersionGameMajor: 0,
    telemetryVersionGameMinor: 0,
    timeAbs:                   0,
    gears:                     0,
    gearsReverse:              0,
    retarderStepCount:         0,
    truckWheelCount:           0,
    selectorCount:             0,
    timeAbsDelivery:           0,
    maxTrailerCount:           0,
    unitCount:                 0,
    plannedDistanceKm:         0,
    shifterSlot:               0,
    retarderBrake:             0,
    lightsAuxFront:            0,
    lightsAuxRoof:             0,
    truckWheelSubstance:       (new Array(WHEEL_COUNT)).fill(0),
    hshifterPosition:          (new Array(GEAR_COUNT)).fill(0),
    hshifterBitmask:           (new Array(GEAR_COUNT)).fill(0),
    jobDeliveredDeliveryTime:  0,
    jobStartingTime:           0,
    jobFinishedTime:           0,

    // ------ 3rd zone ------
    restStop:             0,
    gear:                 0,
    gearDashboard:        0,
    hshifterResulting:    (new Array(GEAR_COUNT)).fill(0),
    jobDeliveredEarnedXp: 0,

    // ------ 4th zone ------
    scale:                         0,
    fuelCapacity:                  0,
    fuelWarningFactor:             0,
    adblueCapacity:                0,
    adblueWarningFactor:           0,
    airPressureWarningFactor:      0,
    airPressureEmergencyFactor:    0,
    oilPressureWarningFactor:      0,
    waterTemperatureWarningFactor: 0,
    batteryVoltageWarningFactor:   0,
    engineRpmMax:                  0,
    gearDifferential:              0,
    cargoMass:                     0,
    truckWheelRadius:              (new Array(WHEEL_COUNT)).fill(0),
    gearRatiosForward:             (new Array(FORWARD_GEAR_COUNT)).fill(0),
    gearRatiosReverse:             (new Array(REVERSE_GEAR_COUNT)).fill(0),
    unitMass:                      0,
    speed:                         0,
    engineRpm:                     0,
    userSteer:                     0,
    userThrottle:                  0,
    userBrake:                     0,
    userClutch:                    0,
    gameSteer:                     0,
    gameThrottle:                  0,
    gameBrake:                     0,
    gameClutch:                    0,
    cruiseControlSpeed:            0,
    airPressure:                   0,
    brakeTemperature:              0,
    fuel:                          0,
    fuelAvgConsumption:            0,
    fuelRange:                     0,
    adblue:                        0,
    oilPressure:                   0,
    oilTemperature:                0,
    waterTemperature:              0,
    batteryVoltage:                0,
    lightsDashboard:               0,
    wearEngine:                    0,
    wearTransmission:              0,
    wearCabin:                     0,
    wearChassis:                   0,
    wearWheels:                    0,
    truckOdometer:                 0,
    routeDistance:                 0,
    routeTime:                     0,
    speedLimit:                    0,
    truckWheelSuspDeflection:      (new Array(WHEEL_COUNT)).fill(0),
    truckWheelVelocity:            (new Array(WHEEL_COUNT)).fill(0),
    truckWheelSteering:            (new Array(WHEEL_COUNT)).fill(0),
    truckWheelRotation:            (new Array(WHEEL_COUNT)).fill(0),
    truckWheelLift:                (new Array(WHEEL_COUNT)).fill(0),
    truckWheelLiftOffset:          (new Array(WHEEL_COUNT)).fill(0),
    jobDeliveredCargoDamage:       0,
    jobDeliveredDistanceKm:        0,
    refuelAmount:                  0,
    cargoDamage:                   0,

    // ------ 5th zone ------
    truckWheelSteerable:      (new Array(WHEEL_COUNT)).fill(false),
    truckWheelSimulated:      (new Array(WHEEL_COUNT)).fill(false),
    truckWheelPowered:        (new Array(WHEEL_COUNT)).fill(false),
    truckWheelLiftable:       (new Array(WHEEL_COUNT)).fill(false),
    isCargoLoaded:            false,
    specialJob:               false,
    parkBrake:                false,
    motorBrake:               false,
    airPressureWarning:       false,
    airPressureEmergency:     false,
    fuelWarning:              false,
    adblueWarning:            false,
    oilPressureWarning:       false,
    waterTemperatureWarning:  false,
    batteryVoltageWarning:    false,
    electricEnabled:          false,
    engineEnabled:            false,
    wipers:                   false,
    blinkerLeftActive:        false,
    blinkerRightActive:       false,
    blinkerLeftOn:            false,
    blinkerRightOn:           false,
    lightsParking:            false,
    lightsBeamLow:            false,
    lightsBeamHigh:           false,
    lightsBeacon:             false,
    lightsBrake:              false,
    lightsReverse:            false,
    lightsHazard:             false,
    cruiseControl:            false,
    truckWheelOnGround:       (new Array(WHEEL_COUNT)).fill(false),
    shifterToggle:            (new Array(SHIFTER_TOGGLE_COUNT)).fill(false),
    differentialLock:         false,
    liftAxle:                 false,
    liftAxleIndicator:        false,
    trailerLiftAxle:          false,
    trailerLiftAxleIndicator: false,
    jobDeliveredAutoparkUsed: false,
    jobDeliveredAutoloadUsed: false,

    // ------ 6th zone ------
    cabinPositionX:      0,
    cabinPositionY:      0,
    cabinPositionZ:      0,
    headPositionX:       0,
    headPositionY:       0,
    headPositionZ:       0,
    truckHookPositionX:  0,
    truckHookPositionY:  0,
    truckHookPositionZ:  0,
    truckWheelPositionX: (new Array(WHEEL_COUNT)).fill(0),
    truckWheelPositionY: (new Array(WHEEL_COUNT)).fill(0),
    truckWheelPositionZ: (new Array(WHEEL_COUNT)).fill(0),
    lvAccelerationX:     0,
    lvAccelerationY:     0,
    lvAccelerationZ:     0,
    avAccelerationX:     0,
    avAccelerationY:     0,
    avAccelerationZ:     0,
    accelerationX:       0,
    accelerationY:       0,
    accelerationZ:       0,
    aaAccelerationX:     0,
    aaAccelerationY:     0,
    aaAccelerationZ:     0,
    cabinAVX:            0,
    cabinAVY:            0,
    cabinAVZ:            0,
    cabinAAX:            0,
    cabinAAY:            0,
    cabinAAZ:            0,

    // ------ 7th zone ------
    cabinOffsetX:         0,
    cabinOffsetY:         0,
    cabinOffsetZ:         0,
    cabinOffsetrotationX: 0,
    cabinOffsetrotationY: 0,
    cabinOffsetrotationZ: 0,
    headOffsetX:          0,
    headOffsetY:          0,
    headOffsetZ:          0,
    headOffsetrotationX:  0,
    headOffsetrotationY:  0,
    headOffsetrotationZ:  0,

    // ------ 8th zone ------
    coordinateX: 0,
    coordinateY: 0,
    coordinateZ: 0,
    rotationX:   0,
    rotationY:   0,
    rotationZ:   0,

    // ------ 9th zone ------
    truckBrandId:               '',
    truckBrand:                 '',
    truckId:                    '',
    truckName:                  '',
    cargoId:                    '',
    cargo:                      '',
    cityDstId:                  '',
    cityDst:                    '',
    compDstId:                  '',
    compDst:                    '',
    citySrcId:                  '',
    citySrc:                    '',
    compSrcId:                  '',
    compSrc:                    '',
    shifterType:                '',
    truckLicensePlate:          '',
    truckLicensePlateCountryId: '',
    truckLicensePlateCountry:   '',
    jobMarket:                  '',
    fineOffence:                '',
    ferrySourceName:            '',
    ferryTargetName:            '',
    ferrySourceId:              '',
    ferryTargetId:              '',
    trainSourceName:            '',
    trainTargetName:            '',
    trainSourceId:              '',
    trainTargetId:              '',

    // ------ 10th zone ------
    jobIncome: 0n,

    // ------ 11th zone ------
    jobCancelledPenalty: 0n,
    jobDeliveredRevenue: 0n,
    fineAmount:          0n,
    tollgatePayAmount:   0n,
    ferryPayAmount:      0n,
    trainPayAmount:      0n,

    // ------ 12th zone ------
    onJob:        false,
    jobFinished:  false,
    jobCancelled: false,
    jobDelivered: false,
    fined:        false,
    tollgate:     false,
    ferry:        false,
    train:        false,
    refuel:       false,
    refuelPayed:  false,

    // ------ 13th zone ------
    substances: (new Array(SUBSTANCE_COUNT)).fill(''),

    // ------ 14th zone ------
    trailers: (new Array(TRAILER_COUNT)).fill(null).map(() => allocateTrailerTelemetryData())
  };
};

const allocateTrailerTelemetryData = (): SCSSDKTrailerTelemetry => ({
  // ------ 1st zone ------
  wheelSteerable: (new Array(WHEEL_COUNT)).fill(false),
  wheelSimulated: (new Array(WHEEL_COUNT)).fill(false),
  wheelPowered:   (new Array(WHEEL_COUNT)).fill(false),
  wheelLiftable:  (new Array(WHEEL_COUNT)).fill(false),
  wheelOnGround:  (new Array(WHEEL_COUNT)).fill(false),
  attached:       false,

  // ------ 2nd zone ------
  wheelSubstance: (new Array(WHEEL_COUNT)).fill(0),
  wheelCount:     0,

  // ------ 3rd zone ------
  cargoDamage:         0,
  wearChassis:         0,
  wearWheels:          0,
  wearBody:            0,
  wheelSuspDeflection: (new Array(WHEEL_COUNT)).fill(0),
  wheelVelocity:       (new Array(WHEEL_COUNT)).fill(0),
  wheelSteering:       (new Array(WHEEL_COUNT)).fill(0),
  wheelRotation:       (new Array(WHEEL_COUNT)).fill(0),
  wheelLift:           (new Array(WHEEL_COUNT)).fill(0),
  wheelLiftOffset:     (new Array(WHEEL_COUNT)).fill(0),
  wheelRadius:         (new Array(WHEEL_COUNT)).fill(0),

  // ------ 4th zone ------
  linearVelocityX:      0,
  linearVelocityY:      0,
  linearVelocityZ:      0,
  angularVelocityX:     0,
  angularVelocityY:     0,
  angularVelocityZ:     0,
  linearAccelerationX:  0,
  linearAccelerationY:  0,
  linearAccelerationZ:  0,
  angularAccelerationX: 0,
  angularAccelerationY: 0,
  angularAccelerationZ: 0,
  hookPositionX:        0,
  hookPositionY:        0,
  hookPositionZ:        0,
  wheelPositionX:       (new Array(WHEEL_COUNT)).fill(0),
  wheelPositionY:       (new Array(WHEEL_COUNT)).fill(0),
  wheelPositionZ:       (new Array(WHEEL_COUNT)).fill(0),

  // ------ 5th zone ------
  worldX:    0,
  worldY:    0,
  worldZ:    0,
  rotationX: 0,
  rotationY: 0,
  rotationZ: 0,

  // ------ 6th zone ------
  id:                    '',
  cargoAcessoryId:       '',
  bodyType:              '',
  brandId:               '',
  brand:                 '',
  name:                  '',
  chainType:             '',
  licensePlate:          '',
  licensePlateCountry:   '',
  licensePlateCountryId: '',
});